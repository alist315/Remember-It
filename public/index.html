<!DOCTYPE html>
<html lang="en" ng-app="RememberItApp">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.8/angular.min.js" charset="utf-8"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.8/angular-animate.js"></script>
  <script src="/Js/app.js" charset="utf-8"></script>
  <link rel="stylesheet" href="/css/style.css">
  <title>Remember It</title>
</head>

<body ng-controller="MainController as ctrl">
  <div class="modal" ng-class="(ctrl.showLogin ? 'edit' : '')">
    <div class="modal-form">
      <div class="row">
        <div class="title-tag-row">
          <button ng-click="ctrl.closeLogin()">X</button>
            <h2>Create User</h2>
            <form ng-submit="ctrl.createUser()">
              <input type="text" ng-model="ctrl.createUsername" />
              <input type="password" ng-model="ctrl.createPassword" />
              <input type="submit" value="Create User" />
            </form>
            <h2>Log In</h2>
            <form ng-submit="ctrl.logIn()">
              <input type="text" ng-model="ctrl.loginUsername" />
              <input type="password" ng-model="ctrl.loginPassword" />
              <input type="submit" value="Log In">
            </form>
            <button ng-click="ctrl.logOut()">Logout
            </button>
        </div>
      </div>
    </div>
  </div>

  <header>
    <h1> REMEMBER IT!</h1>
    <a ng-if="!ctrl.user.logged " ng-click="ctrl.openLogin()" class="menuItem menuLink headerLink ng-scope" href="#">LOGIN</a>
  </header>

  <div class="memos" ng-if="ctrl.loggedIn">
     <h2>Your Memories</h2>
     <label for="Search by">
	<input type='text' placeholder='Search' ng-model='searchBox'>
</label>

    <form ng-submit="ctrl.createMemory()">
      Name Of Event: <input ng-model="ctrl.nameOfEvent" type="text" placeholder="Name of Event">
      Date: <input ng-model="ctrl.date" type="date" placeholder="Date">
      Pics: <input ng-model="ctrl.img" type="text" placeholder="Pictures"> <input ng-model="ctrl.img2" type="text" placeholder="Pictures">
      Location: <input ng-model="ctrl.location" type="text" placeholder="Location">
      Description: <textarea ng-model="ctrl.description" type="text" placeholder="Description"></textarea>
<input type="submit" value="Add New Memory">
</form>
<div ng-repeat="memory in ctrl.memories | orderBy: 'date' | filter: searchBox" class="fade">
<h3>{{ memory.nameOfEvent }}</h3>
<h3>{{ memory.date | date:'MM-dd-yyyy'}}</h3>
<img src= "{{ memory.img }}" alt="pics" />
<img src= "{{ memory.img2 }}" alt="pics" />
<h3> {{ memory.location }} </h3>
<h3> {{ memory.description }} </h3>

<button ng-click="ctrl.deleteMemory(memory)">X</button>
<form ng-if="$index === ctrl.indexOfEditFormToShow" ng-submit="ctrl.editMemory(memory)">
  <input type="text" ng-model="ctrl.updatedNameOfEvent" placeholder="Name of Event">
  <input type="date" ng-model="ctrl.updatedDate" placeholder="Date">
  <input type="text" ng-model="ctrl.updatedImg" placeholder="Pictures">
  <input type="text" ng-model="ctrl.updatedLocation" placeholder="Location">
  <input type="text" ng-model="ctrl.updatedDescription" placeholder="Description">
  <input type="submit" value="Update!">
</form>
<a href="#" ng-click="ctrl.indexOfEditFormToShow = $index">Update!</a>
</div>
</div>
</body>

</html>
